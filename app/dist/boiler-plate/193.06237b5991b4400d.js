"use strict";(self.webpackChunkBoilerPlate=self.webpackChunkBoilerPlate||[]).push([[193],{2193:(rt,f,c)=>{c.r(f),c.d(f,{ProductModule:()=>ot});var g=c(6895),_=c(7151),t=c(8274),P=c(2940),y=c(5160),x=c(2131),T=c(3900),h=c(7593);let C=(()=>{class n extends y.I{constructor(){super(...arguments),this.helper=x.g,this.entityName="PRODUCT"}deletePicture(e,o){return this.delete(h.lN.PRODUCT_DELETE_PICTURE+e,!1).pipe((0,T.w)(()=>this.detail(o)))}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=c(6212);let b=(()=>{class n{constructor(e,o){this.navigation=e,this.dataService=o}ngOnInit(){this.dataService.list(),this.config={dataService:this.dataService,navigation:this.navigation,translateKey:"page.product-home.",showSideBar:!0}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.f5),t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-router"]],decls:1,vars:1,consts:[[3,"config"]],template:function(e,o){1&e&&t._UZ(0,"app-data-viewer-router",0),2&e&&t.Q6J("config",o.config)},dependencies:[Z.u]}),n})();var d=c(405),k=c(2994),m=c(8514),l=c(6043),v=c(7489),F=c(4004),A=c(8505),J=c(8096),M=c(6590),I=c(1296),N=c(7579),u=c(4032);let E=(()=>{class n{constructor(){this.errors=[],this.destroyer$=new N.x,this.switched=!1}ngOnChanges(e){this.switched=this.config.formControl.value}ngOnDestroy(){this.destroyer$.next(),this.destroyer$.complete()}changeType(){this.config.type="password"===this.config.type?"text":"password"}toggleSwitch(){this.switched=!this.switched,this.config.formControl.patchValue(this.switched)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-input-boolean"]],inputs:{config:"config"},features:[t.TTD],decls:6,vars:5,consts:[[1,"wrapper"],[3,"click"],[1,"switch",3,"click"],[1,"bullet"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"label",1),t.NdJ("click",function(){return o.toggleSwitch()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2),t.NdJ("click",function(){return o.toggleSwitch()}),t._UZ(5,"div",3),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,3,o.config.translateKey+"label."+o.config.name)),t.xp6(2),t.ekj("switched",o.switched))},dependencies:[u.X$],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px}.wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:FigtreeSemiBold;font-size:14px;flex:2;height:24px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.wrapper[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{background:var(--theme-eee);width:40px;height:24px;border-radius:12px;cursor:pointer;transition:var(--transition-smooth);padding:3px}.wrapper[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:9px;background:var(--theme-white)}.wrapper[_ngcontent-%COMP%]   .switched[_ngcontent-%COMP%]{background:var(--theme-primary);padding-left:18px}"]}),n})();var s=c(4006),O=c(5631);function R(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"image-cropper",13),t.NdJ("imageCropped",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.imageCropped(i))})("imageLoaded",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.imageLoaded())})("cropperReady",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.cropperReady(i))})("loadImageFailed",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loadImageFailed())}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Udp("display",e.showCropper?null:"none"),t.Q6J("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("containWithinAspectRatio",e.containWithinAspectRatio)("aspectRatio",1)("resizeToWidth",500)("cropperMinWidth",500)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",e.canvasRotation)("transform",e.transform)("alignImage","left")}}function U(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"span",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.rotateLeft())}),t.qZA(),t.TgZ(2,"span",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.rotateRight())}),t.qZA(),t.TgZ(3,"span",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.zoomOut())}),t.qZA(),t.TgZ(4,"span",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.zoomIn())}),t.qZA(),t.TgZ(5,"span",19),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(10);return t.KtG(i.click())}),t.qZA(),t.TgZ(6,"span",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.save())}),t.qZA()()}}function Q(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(10);return t.KtG(i.click())}),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"span",23),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"page.product-detail.title.choose")," "))}let q=(()=>{class n{constructor(){this.show=!1,this.showChange=new t.vpe,this.pictureChoosed=!1,this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={}}ngOnInit(){this.picture.isEmpty||(this.croppedImage=this.picture.content,this.pictureChoosed=!0)}cropperReady(e){}loadImageFailed(){}fileChangeEvent(e){this.pictureChoosed=!0,this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}imageLoaded(){this.showCropper=!0}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}close(){this.pictureChoosed=!1,this.showChange.emit(!1)}zoomOut(){this.scale-=.1,this.transform={...this.transform,scale:this.scale}}zoomIn(){this.scale+=.1,this.transform={...this.transform,scale:this.scale}}save(){this.picture.isEmpty=!1,this.picture.path=this.croppedImage.split(",")[1],this.picture.content=this.croppedImage,this.close()}flipAfterRotate(){this.transform={...this.transform,flipH:this.transform.flipV,flipV:this.transform.flipH}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-picture-chooser"]],inputs:{show:"show",picture:"picture"},outputs:{showChange:"showChange"},decls:14,vars:8,consts:[[1,"wrapper"],[1,"cropper"],[1,"header"],[1,"title"],[1,"btn",3,"click"],[1,"fa-solid","fa-times"],[1,"content"],["type","file",2,"display","none",3,"change"],["fileUpload",""],["class","cropper-area",4,"ngIf"],["class","action",4,"ngIf"],["class","action-btn",4,"ngIf"],[1,"cropper-area"],["ma","","format","jpeg",3,"imageChangedEvent","maintainAspectRatio","containWithinAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","canvasRotation","transform","alignImage","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"action"],[1,"fas","fa-rotate-left",3,"click"],[1,"fas","fa-rotate-right",3,"click"],[1,"fas","fa-magnifying-glass-plus",3,"click"],[1,"fas","fa-magnifying-glass-minus",3,"click"],[1,"fas","fa-image",3,"click"],[1,"fas","fa-floppy-disk",3,"click"],[1,"action-btn"],[1,"chooser",3,"click"],[1,"fas","fa-image"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.NdJ("click",function(){return o.close()}),t._UZ(7,"i",5),t.qZA()(),t.TgZ(8,"div",6)(9,"input",7,8),t.NdJ("change",function(p){return o.fileChangeEvent(p)}),t.qZA(),t.YNc(11,R,2,13,"div",9),t.YNc(12,U,7,0,"div",10),t.YNc(13,Q,5,3,"div",11),t.qZA()()()),2&e&&(t.ekj("hide-wrapper",!o.show),t.xp6(4),t.Oqu(t.lcZ(5,6,"page.product-detail.title.choose-picture")),t.xp6(7),t.Q6J("ngIf",o.pictureChoosed),t.xp6(1),t.Q6J("ngIf",o.pictureChoosed),t.xp6(1),t.Q6J("ngIf",!o.pictureChoosed))},dependencies:[g.O5,O.ap,u.X$],styles:[".wrapper[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;background:rgba(240,240,240,.8);display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;transition:var(--transition-smooth)}.wrapper[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]{position:relative;max-width:400px;background:var(--theme-standard-bg);border:1px solid var(--theme-dark-clear)}.wrapper[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row}.wrapper[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:40px;display:flex;padding:10px;flex:2;flex-direction:column;justify-content:center;font-family:FigtreeSemiBold;text-transform:uppercase;color:var(--theme-dark-bg-pan)}.wrapper[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;cursor:pointer;transition:var(--transition-smooth)}.wrapper[_ngcontent-%COMP%]   .cropper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:var(--theme-standard-footer-bg)}.action[_ngcontent-%COMP%]{border-top:1px solid var(--theme-dark-clear);width:100%;height:40px;gap:10px;display:flex;flex-direction:row;justify-content:center;align-items:center}.action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:row;justify-content:center;align-items:center;height:40px;color:var(--theme-label-text);flex:1;transition:var(--transition-smooth)}.action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:var(--theme-standard-bg)}.chooser[_ngcontent-%COMP%]{cursor:pointer;gap:1.5rem;padding:1.5rem;display:flex;height:340px;flex-direction:column;color:var(--theme-label-text);justify-content:center;align-items:center}.chooser[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;color:var(--theme-primary)}.hide-wrapper[_ngcontent-%COMP%]{inset:50%;opacity:0}"]}),n})();function S(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addPicture())}),t._UZ(2,"i",4),t.qZA(),t.BQk()}}function K(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.delete())}),t._UZ(1,"img",6),t.TgZ(2,"div",7),t._UZ(3,"i",8),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.image.content,t.LSH)}}let H=(()=>{class n{constructor(){this.image=l.R.getEmpty(),this.showCropper=!1,this.deletePicture=new t.vpe}addPicture(){this.showCropper=!0}delete(){this.deletePicture.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-picture-item"]],inputs:{image:"image"},outputs:{deletePicture:"deletePicture"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["img",""],[3,"show","picture","showChange"],[1,"chooser",3,"click"],[1,"fa-solid","fa-plus"],[1,"wrapper",3,"click"],["alt","",3,"src"],[1,"delete-cursor"],[1,"fa-solid","fa-trash"]],template:function(e,o){if(1&e&&(t.YNc(0,S,3,0,"ng-container",0),t.YNc(1,K,4,1,"ng-template",null,1,t.W1O),t.TgZ(3,"app-product-picture-chooser",2),t.NdJ("showChange",function(p){return o.showCropper=p}),t.qZA()),2&e){const i=t.MAs(2);t.Q6J("ngIf",o.image.isEmpty)("ngIfElse",i),t.xp6(3),t.Q6J("show",o.showCropper)("picture",o.image)}},dependencies:[g.O5,q],styles:["[_nghost-%COMP%]{width:100%;height:100%;min-height:100%;position:relative}.wrapper[_ngcontent-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]:hover   .delete-cursor[_ngcontent-%COMP%]{inset:0}.wrapper[_ngcontent-%COMP%]   .delete-cursor[_ngcontent-%COMP%]{position:absolute;inset:50%;background:rgba(240,240,240,.8);overflow:hidden;display:flex;flex-direction:column;justify-content:center;align-items:center;color:var(--theme-primary);cursor:pointer;transition:var(--transition-smooth)}.chooser[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:100%;cursor:pointer}"]}),n})();function j(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34),t._UZ(2,"span"),t.qZA(),t.TgZ(3,"div",35),t._uU(4),t.qZA(),t.TgZ(5,"i",36),t.NdJ("click",function(){const p=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.removeStrongPoint(p))}),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(4),t.Oqu(e)}}function G(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",43)(1,"i",39),t.NdJ("click",function(){const p=t.CHM(e).index,a=t.oxw().$implicit,it=t.oxw(2);return t.KtG(it.removeValueInGroup(a,p))}),t.qZA(),t._uU(2),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",e.description," ")}}function L(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"i",39),t.NdJ("click",function(){const p=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.removeOption(p))}),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"div",40),t.YNc(5,G,3,1,"div",41),t.qZA(),t.TgZ(6,"div",23)(7,"input",24),t.NdJ("ngModelChange",function(i){const a=t.CHM(e).$implicit;return t.KtG(a.newOptionForm.description=i)}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"input",42),t.NdJ("ngModelChange",function(i){const a=t.CHM(e).$implicit;return t.KtG(a.newOptionForm.price=i)}),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"i",25),t.NdJ("click",function(){const p=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.addValue(p))}),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.options),t.xp6(2),t.Q6J("ngModel",e.newOptionForm.description)("placeholder",t.lcZ(8,6,"page.product-detail.placeholder.options-desc")),t.xp6(2),t.Q6J("ngModel",e.newOptionForm.price)("placeholder",t.lcZ(10,8,"page.product-detail.placeholder.options-price"))}}function $(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13),t._UZ(2,"app-input-boolean",14)(3,"app-input-boolean",14)(4,"app-input-boolean",14),t.TgZ(5,"div",15)(6,"label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",16),t.qZA()(),t.TgZ(10,"div",17),t._UZ(11,"input",18),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",19),t._UZ(14,"input",18),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",20)(17,"div",21),t.YNc(18,j,6,1,"div",22),t.qZA(),t.TgZ(19,"div",23)(20,"input",24),t.NdJ("ngModelChange",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.title=i)}),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"i",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addStrongPoint())}),t.qZA()()(),t.TgZ(23,"div",26),t.YNc(24,L,12,10,"div",27),t.TgZ(25,"div",23)(26,"input",24),t.NdJ("ngModelChange",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.newOptions.title=i)}),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"i",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addOptions())}),t.qZA()()(),t.TgZ(29,"div",28)(30,"div",29)(31,"div",30),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input",31),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",29)(37,"div",30),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",31),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.preview())}),t._uU(43),t.ALo(44,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("config",e.detailFormConfig.draft),t.xp6(1),t.Q6J("config",e.detailFormConfig.visible),t.xp6(1),t.Q6J("config",e.detailFormConfig.small),t.xp6(3),t.Oqu(t.lcZ(8,28,e.detailFormConfig.delays.translateKey+"label.position")),t.xp6(2),t.Q6J("formControl",e.detailFormConfig.position.formControl),t.xp6(2),t.Q6J("type","text")("placeholder",t.lcZ(12,30,e.detailFormConfig.delays.translateKey+"placeholder."+e.detailFormConfig.delays.name))("formControl",e.detailFormConfig.delays.formControl),t.xp6(3),t.Q6J("type","text")("placeholder",t.lcZ(15,32,e.detailFormConfig.title.translateKey+"placeholder."+e.detailFormConfig.title.name))("formControl",e.detailFormConfig.title.formControl),t.xp6(4),t.Q6J("ngForOf",e.bulletPoints),t.xp6(2),t.Q6J("ngModel",e.title)("placeholder",t.lcZ(21,34,"page.product-detail.placeholder.addPoint")),t.xp6(4),t.Q6J("ngForOf",e.options),t.xp6(2),t.Q6J("ngModel",e.newOptions.title)("placeholder",t.lcZ(27,36,"page.product-detail.placeholder.options-type")),t.xp6(6),t.Oqu(t.lcZ(33,38,"page.product-detail.placeholder.total-price")),t.xp6(2),t.Q6J("type","number")("min",1)("placeholder",t.lcZ(35,40,e.detailFormConfig.price.translateKey+"placeholder."+e.detailFormConfig.price.name))("formControl",e.detailFormConfig.price.formControl),t.xp6(4),t.Oqu(t.lcZ(39,42,"page.product-detail.placeholder.cost-travel")),t.xp6(2),t.Q6J("type","number")("min",1)("placeholder",t.lcZ(41,44,e.detailFormConfig.costTravel.translateKey+"placeholder."+e.detailFormConfig.costTravel.name))("formControl",e.detailFormConfig.costTravel.formControl),t.xp6(3),t.Oqu(t.lcZ(44,46,e.formMode===e.formType.UPDATE?"page.product-detail.btn.update":"page.product-detail.btn.create"))}}function B(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ckeditor",44),t.NdJ("change",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.onChange(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.tabs[0])}}function z(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ckeditor",44),t.NdJ("change",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.onChange(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.tabs[1])}}function D(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ckeditor",44),t.NdJ("change",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.onChange(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.tabs[2])}}let w=(()=>{class n extends k.KI{constructor(e,o,i){super(e,o,i),this.activatedRouter=e,this.nav=o,this.productService=i,this.helper=x.g,this.formMode=d.d.CREATE,this.formType=d.d,this.title="",this.bulletPoints=[],this.pictures=[l.R.getEmpty(0),l.R.getEmpty(1),l.R.getEmpty(2),l.R.getEmpty(3),l.R.getEmpty(4)],this.options=[],this.newOptions=m.a.getNewOption(),this.activeTab=0,this.tabs=["","",""]}ngOnInit(){super.ngOnInit(),this.detail$.subscribe(e=>{if(!e.isEmpty){this.bulletPoints=(0,v.isNil)(e.hook)||0===e.hook.trim().length?[]:e.hook.split("]").filter(i=>i.length>0).map(i=>i.replace("[","")),this.options=m.a.flatToGroup(e.options),this.tabs=[e.description,e.characteristic,e.technicalData],this.pictures=e.pictures;let o=5-this.pictures.length;for(let i=0;i<o;i++)this.pictures.push(l.R.getEmpty())}})}addStrongPoint(){this.title.trim().length>0&&(this.bulletPoints.push(this.title),this.title="")}removeStrongPoint(e){this.bulletPoints.splice(e,1)}addOptions(){this.newOptions.title.trim().length>0&&(this.options.push(this.newOptions),this.newOptions={title:"",options:[],newOptionForm:m.a.getEmpty()})}addValue(e){e.newOptionForm.description.trim().length>0&&(e.options.push(e.newOptionForm),e.newOptionForm=m.a.getEmpty())}removeValueInGroup(e,o){e.options.splice(o,1)}onChange({editor:e}){this.tabs[this.activeTab]=e.getData()}preview(){let e=this.helper.getPayload(this.detail$.getValue(),this.detailFormConfig,this.formMode);e.description=this.tabs[0],e.characteristic=this.tabs[1],e.technicalData=this.tabs[2],e.hook=this.bulletPoints.length>0?`[${this.bulletPoints.join("][")}]`:"",e.options=m.a.groupToFlat(this.options,e.price),e.pictures=this.pictures.filter(i=>!i.isEmpty);let o=null;this.formMode===d.d.CREATE?o=this.dataService.create(e):this.formMode===d.d.UPDATE&&(o=this.dataService.update({...e,product_id:this.detail$.getValue().id})),(0,v.isNil)(o)||o.pipe((0,F.U)(i=>i),(0,A.b)(i=>{this.needToSave$.next(!1),i.isEmpty||(this.dataService.list(),this.navigationService.navigate(`${h.pB[this.dataService.entityName+"_DETAIL"]}/${i.id}`))})).subscribe()}deletePicture(e){this.productService.deletePicture(this.pictures[e].id,this.detail$.getValue().id).subscribe(o=>this.detail$.next(o))}removeOption(e){this.options.splice(e,1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(P.f5),t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-form"]],inputs:{formMode:"formMode"},features:[t.qOj],decls:30,vars:27,consts:[[3,"loading","detail","formMode"],[1,"top-wrapper"],[1,"picture-area"],[1,"cover"],[3,"image","deletePicture"],[1,"little-gallery"],[1,"picture"],["class","little-description",4,"ngIf"],[1,"tablor"],[1,"item",3,"click"],[1,"item","f-2"],[3,"data","change",4,"ngIf"],[1,"little-description"],[1,"switch"],[3,"config"],[1,"position"],["type","text",3,"formControl"],[1,"availability"],[1,"input",3,"type","placeholder","formControl"],[1,"title"],[1,"descy"],[1,"bullets"],["class","line",4,"ngFor","ngForOf"],[1,"formed"],["type","text",3,"ngModel","placeholder","ngModelChange"],[1,"fa-solid","fa-plus",3,"click"],[1,"options"],["class","option",4,"ngFor","ngForOf"],[1,"bucket"],[1,"price"],[1,"skin"],[1,"input",3,"type","min","placeholder","formControl"],[3,"click"],[1,"line"],[1,"bullet"],[1,"desc"],[1,"fa-solid","fa-minus",3,"click"],[1,"option"],[1,"little-title"],[1,"fa-solid","fa-times",3,"click"],[1,"listing-option"],["class","option-value",4,"ngFor","ngForOf"],["type","number",3,"ngModel","placeholder","ngModelChange"],[1,"option-value"],[3,"data","change"]],template:function(e,o){1&e&&(t.TgZ(0,"app-data-viewer-loader",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-product-picture-item",4),t.NdJ("deletePicture",function(){return o.deletePicture(0)}),t.qZA()(),t.TgZ(5,"div",5)(6,"div",6)(7,"app-product-picture-item",4),t.NdJ("deletePicture",function(){return o.deletePicture(1)}),t.qZA()(),t.TgZ(8,"div",6)(9,"app-product-picture-item",4),t.NdJ("deletePicture",function(){return o.deletePicture(2)}),t.qZA()(),t.TgZ(10,"div",6)(11,"app-product-picture-item",4),t.NdJ("deletePicture",function(){return o.deletePicture(3)}),t.qZA()(),t.TgZ(12,"div",6)(13,"app-product-picture-item",4),t.NdJ("deletePicture",function(){return o.deletePicture(4)}),t.qZA()()()(),t.YNc(14,$,45,48,"div",7),t.qZA(),t.TgZ(15,"app-card")(16,"div",8)(17,"div",9),t.NdJ("click",function(){return o.activeTab=0}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",9),t.NdJ("click",function(){return o.activeTab=1}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",9),t.NdJ("click",function(){return o.activeTab=2}),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"div",10),t.qZA(),t.YNc(27,B,1,1,"ckeditor",11),t.YNc(28,z,1,1,"ckeditor",11),t.YNc(29,D,1,1,"ckeditor",11),t.qZA()()),2&e&&(t.Q6J("loading",o.loading$)("detail",o.detail$)("formMode",o.formMode),t.xp6(4),t.Q6J("image",o.pictures[0]),t.xp6(3),t.Q6J("image",o.pictures[1]),t.xp6(2),t.Q6J("image",o.pictures[2]),t.xp6(2),t.Q6J("image",o.pictures[3]),t.xp6(2),t.Q6J("image",o.pictures[4]),t.xp6(1),t.Q6J("ngIf",o.detailFormConfig),t.xp6(3),t.ekj("active",0===o.activeTab),t.xp6(1),t.Oqu(t.lcZ(19,21,"page.product-detail.placeholder.description")),t.xp6(2),t.ekj("active2",1===o.activeTab),t.xp6(1),t.Oqu(t.lcZ(22,23,"page.product-detail.placeholder.caract")),t.xp6(2),t.ekj("active2",2===o.activeTab),t.xp6(1),t.Oqu(t.lcZ(25,25,"page.product-detail.placeholder.complement")),t.xp6(3),t.Q6J("ngIf",0===o.activeTab),t.xp6(1),t.Q6J("ngIf",1===o.activeTab),t.xp6(1),t.Q6J("ngIf",2===o.activeTab))},dependencies:[g.sg,g.O5,J.b,M.u,I.A,E,s.Fj,s.wV,s.JJ,s.oH,s.On,H,u.X$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem}.top-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:15px;margin:1.5rem auto;max-width:1024px;border:1px solid var(--theme-dark-clear)}.top-wrapper[_ngcontent-%COMP%]   .picture-area[_ngcontent-%COMP%]{padding:1rem;flex:2;display:flex;flex-direction:column;gap:8px;border-right:1px solid var(--theme-dark-clear)}.top-wrapper[_ngcontent-%COMP%]   .picture-area[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{min-height:150px;border:1px dashed var(--theme-dark-clear);display:flex;justify-content:center;align-items:center;flex-direction:column;color:var(--theme-dark-clear)}.top-wrapper[_ngcontent-%COMP%]   .picture-area[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   app-product-picture-item[_ngcontent-%COMP%]{flex:1;min-height:150px}.top-wrapper[_ngcontent-%COMP%]   .picture-area[_ngcontent-%COMP%]   .little-gallery[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px}.top-wrapper[_ngcontent-%COMP%]   .picture-area[_ngcontent-%COMP%]   .little-gallery[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{min-height:50px;flex:1;border:1px dashed var(--theme-dark-clear);justify-content:center;display:flex;align-items:center;flex-direction:column;color:var(--theme-dark-clear)}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]{padding:1rem;flex:3}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;padding-bottom:10px;justify-content:flex-end;align-items:flex-end}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]{padding-bottom:5px}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:var(--theme-standard-bg);font-size:10px;padding:5px;min-width:33.33%;text-transform:uppercase}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-bottom:10px;margin-bottom:10px}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:flex;min-width:100%;flex-direction:column;justify-content:center;font-family:FigtreeSemiBold;text-transform:uppercase;color:var(--theme-dark-bg-pan)}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{border-top:1px solid var(--theme-dark-clear);display:flex;flex-direction:column;gap:3px;padding-top:10px;padding-bottom:10px}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px;transition:var(--transition-smooth)}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;height:20px;flex-direction:column;justify-content:center;align-items:center}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:3px;background:var(--theme-primary)}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{flex:2;height:20px;display:flex;flex-direction:row;align-items:center}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;cursor:pointer;transition:var(--transition-smooth)}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:hover, .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:hover{background:var(--theme-standard-bg)}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;justify-content:flex-start;align-items:flex-start;font-size:11px}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:20px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;flex:2}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;transition:var(--transition-smooth);width:20px;height:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:10px}.top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .descy[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .top-wrapper[_ngcontent-%COMP%]   .little-description[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .formed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background:var(--theme-standard-bg)}.top-wrapper[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid var(--theme-dark-clear);display:flex;flex-direction:row;gap:5px;align-items:center;justify-content:flex-start}.top-wrapper[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .skin[_ngcontent-%COMP%]{font-family:FigtreeSemiBold;text-transform:uppercase;color:var(--theme-dark-bg-pan)}.top-wrapper[_ngcontent-%COMP%]   .little-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--theme-dark-bg-pan);padding-bottom:4px;font-size:14px;display:flex;flex-direction:row;gap:10px}.top-wrapper[_ngcontent-%COMP%]   .listing-option[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;flex-wrap:wrap}.top-wrapper[_ngcontent-%COMP%]   .listing-option[_ngcontent-%COMP%]   .option-value[_ngcontent-%COMP%]{padding:8px;border:1px solid var(--theme-dark-clear);font-size:12px}.tablor[_ngcontent-%COMP%]{margin:-10px -10px 15px;display:flex;flex-direction:row}.tablor[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-family:FigtreeSemiBold;font-size:12px;padding:10px;text-transform:uppercase;border-bottom:1px solid var(--theme-dark-clear);color:var(--theme-dark-bg-pan);cursor:pointer;transition:var(--transition-smooth)}.tablor[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background:var(--theme-standard-bg)}.tablor[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-right:1px solid var(--theme-dark-clear)}.tablor[_ngcontent-%COMP%]   .active2[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-right:1px solid var(--theme-dark-clear);border-left:1px solid var(--theme-dark-clear)}.tablor[_ngcontent-%COMP%]   .f-2[_ngcontent-%COMP%]{flex:3}button[_ngcontent-%COMP%]{width:100%;margin-top:15px;background:var(--theme-dark-bg-pan);border:1px solid var(--theme-dark-bg-pan);color:var(--theme-white);padding:10px;font-family:FigtreeSemiBold;text-align:center;text-transform:uppercase;font-size:12px;cursor:pointer;transition:var(--transition-smooth)}button[_ngcontent-%COMP%]:hover{color:var(--theme-dark-bg-pan);background:var(--theme-standard-bg);border:1px solid var(--theme-standard-bg)}.position[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px}.position[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:FigtreeSemiBold;font-size:14px;flex:2;height:24px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.position[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px}"]}),n})(),Y=(()=>{class n{constructor(){this.formType=d.d.CREATE}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-create-page"]],decls:1,vars:1,consts:[[3,"formMode"]],template:function(e,o){1&e&&t._UZ(0,"app-product-form",0),2&e&&t.Q6J("formMode",o.formType)},dependencies:[w]}),n})();var V=c(186);const X=[{path:"",component:b,children:[{path:"",component:(()=>{class n{constructor(e){this.dataService=e,this.translateKey="page.product-home."}ngOnInit(){this.config={translateKey:this.translateKey,createPageEnum:h.pB.PRODUCT_CREATE,list$:this.dataService.list$},this.dataService.list()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-home-page"]],decls:1,vars:1,consts:[[3,"config"]],template:function(e,o){1&e&&t._UZ(0,"app-data-viewer-home",0),2&e&&t.Q6J("config",o.config)},dependencies:[V.h]}),n})()},{path:"detail/:id",component:(()=>{class n{constructor(){this.formType=d.d.UPDATE}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail-page"]],decls:1,vars:1,consts:[[3,"formMode"]],template:function(e,o){1&e&&t._UZ(0,"app-product-form",0),2&e&&t.Q6J("formMode",o.formType)},dependencies:[w]}),n})()},{path:"create",component:Y}]}];let W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(X),_.Bz]}),n})();var tt=c(8956),et=c(6434),nt=c(534);let ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,W,tt.F,M.d,et.d,nt.e,s.UX,u.aw,s.u5,O.QG]}),n})()}}]);